"use strict";(globalThis["webpackChunktemplate"]=globalThis["webpackChunktemplate"]||[]).push([[43],{7335:(e,t,l)=>{l.d(t,{Z:()=>u});var a=l(7524),o=l(8339),s=l(9053),n=l(5198),r=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,s){function n(e){try{i(a.next(e))}catch(t){s(t)}}function r(e){try{i(a["throw"](e))}catch(t){s(t)}}function i(e){e.done?l(e.value):o(e.value).then(n,r)}i((a=a.apply(e,t||[])).next())}))};(0,o.tv)();const i={_401interceptor:null,i:0,init(e){a.Z.defaults.baseURL=e},getFile(e){return a.Z.get(e,{responseType:"blob"})},setHeader(){a.Z.defaults.headers.common.Authorization=`Bearer ${s.Z.getToken()}`,a.Z.defaults.headers.common["Accept-Language"]="en"},formData(e,t){return a.Z.post(e,t,{headers:{"Content-Type":"multipart/form-data"}})},removeHeader(){a.Z.defaults.headers.common={}},get(e,t={}){return a.Z.get(`${e}`,t)},post(e,t){return a.Z.post(`${e}`,t)},customPost(e,t){return a.Z.post(e,t,{headers:{"Content-Type":"application/xml"}})},put(e,t){return a.Z.put(e,t)},delete(e){return a.Z["delete"](e)},customRequest(e){return(0,a.Z)(e)},mount401Interceptor(){this._401interceptor=a.Z.interceptors.response.use((e=>e),(e=>r(this,void 0,void 0,(function*(){if(this.i++,1==this.i){if(403===e.response.status||401===e.response.status)throw n.Z.logout(),window.location.reload(),e;if(200!=e.response.statusCode&&417!=e.response.statusCode)throw e}throw this.i=0,e}))))},unmount401Interceptor(){a.Z.interceptors.response.eject(this._401interceptor)}},u=i},5198:(e,t,l)=>{l.d(t,{Z:()=>n});var a=l(7335),o=l(9053);const s={login(e){return a.Z.post("/auth-payload",e)},logout(){return a.Z.removeHeader(),o.Z.removeToken(),o.Z.removeUsername(),o.Z.removeRoles(),o.Z.removePermissions(),!0}},n=s},242:(e,t,l)=>{l.d(t,{Z:()=>s});var a=l(7335);const o={list(){return a.Z.get("/user/list")},getById(e){return a.Z.get(`/home/get-by-id/${e}`)},deleteHome(e){return a.Z["delete"](`/home/delete/${e}`)},save(e,t){return t?a.Z.post("/home/create",e):a.Z.put("/home/update",e)}},s=o},9043:(e,t,l)=>{l.r(t),l.d(t,{default:()=>K});var a=l(9835),o=l(6970);const s=(0,a._)("hr",{class:"q-ma-none"},null,-1),n=(0,a._)("img",{src:"https://img.freepik.com/premium-vector/no-data-empty-data-concept-illustration-vector_610956-1400.jpg",alt:"not_found",style:{"border-radius":"50px",width:"400px"}},null,-1),r=(0,a._)("hr",{class:"q-ma-none"},null,-1),i={class:"row"},u={class:"col"},d={class:"col"},m={class:"row"},c={class:"col"},p={class:"col-3 text-center"},g={class:"row"},h={class:"col"},f={class:"col"},w=(0,a._)("hr",null,null,-1),b={class:"row"},v={class:"col text-left"},y={class:"col text-right"},_={key:0,style:{margin:"0"}};function W(e,t,l,W,Z,k){const q=(0,a.up)("q-toolbar-title"),$=(0,a.up)("q-btn"),z=(0,a.up)("q-toolbar"),V=(0,a.up)("q-th"),x=(0,a.up)("q-tr"),U=(0,a.up)("q-td"),C=(0,a.up)("q-icon"),L=(0,a.up)("q-banner"),M=(0,a.up)("q-popup-proxy"),Q=(0,a.up)("q-markup-table"),T=(0,a.up)("q-input"),I=(0,a.up)("q-toggle"),j=(0,a.up)("q-form"),B=(0,a.up)("q-card"),F=(0,a.up)("q-dialog"),H=(0,a.up)("l-tile-layer"),P=(0,a.up)("l-marker"),S=(0,a.up)("l-map"),A=(0,a.up)("vue-easy-lightbox"),D=(0,a.up)("q-inner-loading"),R=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(B,{bordered:"",class:"border-radius-10"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("sidebar.home")),1)])),_:1}),(0,a.Wm)($,{onClick:k.createForm,flat:"",class:"bg-green-opacity",color:"positive",icon:"add",label:e.$t("actions.create")},null,8,["onClick","label"])])),_:1}),s,(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a._)("thead",null,[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("â„–")])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("fields.name")),1)])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("fields.price")),1)])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("fields.date")),1)])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("fields.address")),1)])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("actions.title")),1)])),_:1})])),_:1})]),(0,a._)("tbody",null,[Z.list&&Z.list.length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(Z.list,((t,l)=>((0,a.wg)(),(0,a.j4)(x,{key:`item-${l}`,class:(0,o.C_)(t.own?"bg-blue-opacity":"ACTIVE"===t.status?"bg-green-opacity":"bg-red-opacity")},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(l+1),1)])),_:2},1024),(0,a.Wm)(U,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.name),1)])),_:2},1024),(0,a.Wm)(U,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.price),1)])),_:2},1024),(0,a.Wm)(U,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.date),1)])),_:2},1024),(0,a.Wm)(U,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.address),1)])),_:2},1024),(0,a.Wm)(U,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{onClick:e=>k.openMap(!0,t),flat:"",dense:"",round:"",icon:"place",class:"text-purple"},null,8,["onClick"]),(0,a.Wm)($,{flat:"",dense:"",round:"",icon:"image",class:"text-positive"}),(0,a.Wm)($,{flat:"",dense:"",round:"",icon:"description",class:"text-deep-purple"}),(0,a.Wm)($,{onClick:e=>k.editForm(t,l),flat:"",dense:"",round:"",icon:"edit",class:"text-primary"},null,8,["onClick"]),(0,a.Wm)($,{flat:"",dense:"",round:"",icon:"delete",class:"text-negative"},{default:(0,a.w5)((()=>[(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L,null,{avatar:(0,a.w5)((()=>[(0,a.Wm)(C,{name:"info",color:"red"})])),action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)($,{label:e.$t("actions.no"),color:"negative",push:"",glossy:"",size:"sm"},null,8,["label"]),[[R]]),(0,a.wy)((0,a.Wm)($,{onClick:e=>k.deleteForm(l),label:e.$t("actions.yes"),color:"positive",push:"",glossy:"",size:"sm"},null,8,["onClick","label"]),[[R]])])),default:(0,a.w5)((()=>[(0,a.Uk)(" "+(0,o.zw)(e.$t("delete_text"))+" ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])))),128)):((0,a.wg)(),(0,a.j4)(x,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{colspan:"6",class:"text-center"},{default:(0,a.w5)((()=>[n])),_:1})])),_:1}))])])),_:1}),(0,a.Wm)(F,{modelValue:Z.modal,"onUpdate:modelValue":t[7]||(t[7]=e=>Z.modal=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(Z.create?e.$t("actions.create"):e.$t("actions.edit")),1)])),_:1}),(0,a.wy)((0,a.Wm)($,{flat:"",round:"",dense:"",icon:"close"},null,512),[[R]])])),_:1}),r,(0,a.Wm)(j,{onSubmit:k.save,class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{modelValue:Z.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>Z.form.name=e),dense:"",outlined:"","lazy-rules":"",rules:[k.required],label:e.$t("fields.name")},null,8,["modelValue","rules","label"]),(0,a._)("div",i,[(0,a._)("div",u,[(0,a.Wm)(T,{modelValue:Z.form.price,"onUpdate:modelValue":t[1]||(t[1]=e=>Z.form.price=e),dense:"",outlined:"","lazy-rules":"",rules:[k.required],label:e.$t("fields.price")},null,8,["modelValue","rules","label"])]),(0,a._)("div",d,[(0,a.Wm)(T,{modelValue:Z.form.date,"onUpdate:modelValue":t[2]||(t[2]=e=>Z.form.date=e),dense:"",outlined:"","lazy-rules":"",rules:[k.required],label:e.$t("fields.date"),mask:"##-##-####"},null,8,["modelValue","rules","label"])])]),(0,a._)("div",m,[(0,a._)("div",c,[(0,a.Wm)(T,{modelValue:Z.form.address,"onUpdate:modelValue":t[3]||(t[3]=e=>Z.form.address=e),dense:"",outlined:"",autogrow:"","lazy-rules":"",rules:[k.required],label:e.$t("fields.address")},null,8,["modelValue","rules","label"])]),(0,a._)("div",p,[(0,a.Wm)(I,{modelValue:Z.form.own,"onUpdate:modelValue":t[4]||(t[4]=e=>Z.form.own=e),label:e.$t("fields.own"),"left-label":""},null,8,["modelValue","label"])])]),(0,a._)("div",g,[(0,a._)("div",h,[(0,a.Wm)(T,{modelValue:Z.form.latitude,"onUpdate:modelValue":t[5]||(t[5]=e=>Z.form.latitude=e),dense:"",outlined:"","lazy-rules":"",rules:[k.requiredBool],label:"Latitude"},null,8,["modelValue","rules"])]),(0,a._)("div",f,[(0,a.Wm)(T,{modelValue:Z.form.longitude,"onUpdate:modelValue":t[6]||(t[6]=e=>Z.form.longitude=e),dense:"",outlined:"","lazy-rules":"",rules:[k.requiredBool],label:"Longitude"},{after:(0,a.w5)((()=>[(0,a.Wm)($,{onClick:k.openMap,flat:"",round:"",dense:"",icon:"place",color:"primary"},null,8,["onClick"])])),_:1},8,["modelValue","rules"])])]),w,(0,a._)("div",b,[(0,a._)("div",v,[(0,a.wy)((0,a.Wm)($,{flat:"",label:e.$t("actions.cancel"),color:"negative",class:"bg-red-opacity","no-caps":""},null,8,["label"]),[[R]])]),(0,a._)("div",y,[(0,a.Wm)($,{flat:"",label:e.$t("actions.save"),type:"submit",color:"positive",class:"bg-green-opacity","no-caps":""},null,8,["label"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(F,{modelValue:Z.map,"onUpdate:modelValue":t[8]||(t[8]=e=>Z.map=e),onHide:t[9]||(t[9]=e=>Z.viewMap=!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{style:{width:"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{ref:"mapDrag",zoom:Z.zoom,center:Z.center,style:{width:"100%",height:"400px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{url:Z.url,attribution:Z.attribution},null,8,["url","attribution"]),(0,a.Wm)(P,{"lat-lng":Z.center,"onUpdate:latLng":k.changeMap,draggable:!Z.viewMap},null,8,["lat-lng","onUpdate:latLng","draggable"])])),_:1},8,["zoom","center"]),Z.viewMap?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("hr",_)),Z.viewMap?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.j4)($,{key:1,label:e.$t("actions.cancel"),color:"negative",class:"q-ma-sm",push:"",glossy:""},null,8,["label"])),[[R]]),Z.viewMap?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)($,{key:2,label:e.$t("actions.save"),onClick:k.saveMap,loading:Z.loading,type:"submit",color:"positive",class:"float-right q-ma-sm",push:"",glossy:""},null,8,["label","onClick","loading"]))])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(A,{visible:Z.singleImage,imgs:`${k.rootUrl}/${Z.uploadPath}`,onHide:t[10]||(t[10]=e=>Z.singleImage=!1)},null,8,["visible","imgs"]),(0,a.Wm)(D,{color:"deep-purple",showing:Z.loading},null,8,["showing"])])),_:1})}l(6890);var Z=l(4587),k=l.n(Z),q=l(6956),$=l(3784),z=l(242);const V={name:"homes",components:{LMap:q.iA,LTileLayer:q.Hw,LMarker:q.$R,VueEasyLightbox:$.Z},data(){return{loading:!1,list:[],create:!0,index:0,modal:!1,form:{},zoom:10,center:k().latLng(41.31030813152166,69.2687988408655),centerView:k().latLng(41.31030813152166,69.2687988408655),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://mmadev.000webhostapp.com">MMA</a>',lat:"",lang:"",map:!1,viewMap:!1,photoModal:!1,singleImage:!1,uploadPath:"",photos:[]}},computed:{rootUrl(){return"https://mega-house-back.onrender.com/images/"}},methods:{required(e){return e&&e.length>0||this.$t("fields.required")},requiredBool(e){return e||this.$t("fields.required")},async getList(){this.list=localStorage.getItem("homes")?JSON.parse(localStorage.getItem("homes")):[]},createForm(){this.create=!0,this.form={},this.modal=!0},editForm(e){this.create=!1,this.form=Object.assign({},e),this.modal=!0},deleteForm(e){this.loading=!0,this.list.splice(e,1),z.Z.save(this.list),this.getList(),this.loading=!1,this.$q.notify({message:this.$t("success_deleted"),progress:!0,closeBtn:!0,type:"positive",position:"top-right"})},async save(){this.list.unshift(this.form),localStorage.setItem("homes",JSON.stringify(this.list)),this.modal=!1},openMap(e,t){if(e&&t)this.zoom=15,this.center=k().latLng(t.latitude,t.longitude),this.viewMap=!0,this.map=!0;else{if(this.form.latitude&&""!==this.form.latitude&&this.form.longitude&&""!==this.form.longitude)return this.zoom=14,this.center=k().latLng(this.form.latitude,this.form.longitude),this.map=!0,!0;this.zoom=10,this.center=k().latLng(41.31030813152166,69.2687988408655),this.map=!0}},changeMap(e){this.lat=e.lat,this.lng=e.lng},saveMap(){this.form.latitude=this.lat,this.form.longitude=this.lng,this.map=!1}},created(){this.getList()}};var x=l(1639),U=l(4458),C=l(1663),L=l(1973),M=l(8879),Q=l(6933),T=l(3532),I=l(1682),j=l(7220),B=l(2765),F=l(7128),H=l(2857),P=l(2074),S=l(8326),A=l(6611),D=l(3175),R=l(854),O=l(2146),E=l(9984),J=l.n(E);const N=(0,x.Z)(V,[["render",W]]),K=N;J()(V,"components",{QCard:U.Z,QToolbar:C.Z,QToolbarTitle:L.Z,QBtn:M.Z,QMarkupTable:Q.Z,QTr:T.Z,QTh:I.Z,QTd:j.Z,QPopupProxy:B.Z,QBanner:F.Z,QIcon:H.Z,QDialog:P.Z,QForm:S.Z,QInput:A.Z,QToggle:D.Z,QInnerLoading:R.Z}),J()(V,"directives",{ClosePopup:O.Z})}}]);