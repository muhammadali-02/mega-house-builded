"use strict";(globalThis["webpackChunktemplate"]=globalThis["webpackChunktemplate"]||[]).push([[969],{242:(e,t,l)=>{l.d(t,{Z:()=>a});var o=l(9053);const s={list(){let e=o.Z.getHomes();return e?JSON.parse(e):[]},getById(){},deleteHome(){},save(e){o.Z.setHomes(JSON.stringify(e))}},a=s},9630:(e,t,l)=>{l.d(t,{Z:()=>a});var o=l(9053);const s={list(){let e=o.Z.getPersons();return e?JSON.parse(e):[]},getById(){},deleteHome(){},save(e){o.Z.setPersons(JSON.stringify(e))}},a=s},9053:(e,t,l)=>{l.d(t,{Z:()=>n});const o="theme",s="homes",a="persons",i="reports",r={setTheme(e){localStorage.setItem(o,e)},getTheme(){return localStorage.getItem(o)},removeTheme(){localStorage.removeItem(o)},setHomes(e){localStorage.setItem(s,e)},getHomes(){return localStorage.getItem(s)},removeHomes(){localStorage.removeItem(s)},setPersons(e){localStorage.setItem(a,e)},getPersons(){return localStorage.getItem(a)},removePersons(){localStorage.removeItem(a)},setReports(e){localStorage.setItem(i,e)},getReports(){return localStorage.getItem(i)},removeReports(){localStorage.removeItem(i)}},n=r},8969:(e,t,l)=>{l.r(t),l.d(t,{default:()=>G});var o=l(9835),s=l(6970);const a=(0,o._)("hr",{class:"q-ma-none"},null,-1),i=(0,o._)("br",null,null,-1),r=(0,o._)("img",{src:"https://img.freepik.com/premium-vector/no-data-empty-data-concept-illustration-vector_610956-1400.jpg",alt:"not_found",style:{"border-radius":"50px",width:"400px"}},null,-1),n={key:1,class:"q-pa-md text-center"},d=(0,o._)("img",{src:"https://img.freepik.com/premium-vector/no-data-empty-data-concept-illustration-vector_610956-1400.jpg",alt:"not_found",style:{"border-radius":"50px",width:"400px"}},null,-1),u=[d],m=(0,o._)("hr",{class:"q-ma-none"},null,-1),c={class:"row"},p={class:"col"},h={class:"col"},g={class:"row"},f={class:"col"},w={class:"col"},_=(0,o._)("hr",null,null,-1),b={class:"row"},k={class:"col text-left"},v={class:"col text-right"};function W(e,t,l,d,W,y){const q=(0,o.up)("q-toolbar-title"),Z=(0,o.up)("q-btn"),I=(0,o.up)("q-toolbar"),$=(0,o.up)("q-icon"),x=(0,o.up)("q-item-section"),z=(0,o.up)("q-item-label"),U=(0,o.up)("q-item"),V=(0,o.up)("q-list"),Q=(0,o.up)("q-th"),S=(0,o.up)("q-tr"),j=(0,o.up)("q-td"),C=(0,o.up)("q-banner"),H=(0,o.up)("q-popup-proxy"),T=(0,o.up)("q-markup-table"),P=(0,o.up)("q-splitter"),L=(0,o.up)("q-input"),B=(0,o.up)("q-form"),F=(0,o.up)("q-card"),O=(0,o.up)("q-dialog"),D=(0,o.up)("vue-easy-lightbox"),J=(0,o.up)("q-inner-loading"),N=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(F,{bordered:"",class:"border-radius-10"},{default:(0,o.w5)((()=>[(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("sidebar.person")),1)])),_:1}),W.homeId?((0,o.wg)(),(0,o.j4)(Z,{key:0,onClick:y.createForm,flat:"",class:"bg-green-opacity",color:"positive",icon:"add",label:e.$t("actions.create")},null,8,["onClick","label"])):(0,o.kq)("",!0)])),_:1}),a,(0,o.Wm)(P,{modelValue:W.splitter,"onUpdate:modelValue":t[0]||(t[0]=e=>W.splitter=e),horizontal:e.$q.screen.xs},{before:(0,o.w5)((()=>[W.homes&&W.homes.length>0?((0,o.wg)(),(0,o.j4)(V,{key:0,separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(W.homes,((e,t)=>((0,o.wg)(),(0,o.j4)(U,{key:`home-${t}`,onClick:t=>W.homeId=e.name,active:W.homeId&&W.homeId===e.name,"active-class":"bg-gradient-opacity text-white",clickable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)($,{name:"home"})])),_:1}),(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick","active"])))),128))])),_:1})):((0,o.wg)(),(0,o.j4)(U,{key:1},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("fields.not_found")),1)])),_:1})])),_:1})])),_:1}))])),after:(0,o.w5)((()=>[W.homeId?((0,o.wg)(),(0,o.j4)(T,{key:0},{default:(0,o.w5)((()=>[(0,o._)("thead",null,[(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Q,null,{default:(0,o.w5)((()=>[(0,o.Uk)("â„–")])),_:1}),(0,o.Wm)(Q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("fields.f_i_o")),1)])),_:1}),(0,o.Wm)(Q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("fields.passport")),1)])),_:1}),(0,o.Wm)(Q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("fields.phone")),1)])),_:1}),(0,o.Wm)(Q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("fields.work")),1)])),_:1}),(0,o.Wm)(Q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("actions.title")),1)])),_:1})])),_:1})]),(0,o._)("tbody",null,[W.list&&W.list.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(W.list,((t,l)=>((0,o.wg)(),(0,o.j4)(S,{key:`item-${l}`},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(l+1),1)])),_:2},1024),(0,o.Wm)(j,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(t.f_i_o),1)])),_:2},1024),(0,o.Wm)(j,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(t.passport),1),i,(0,o.Uk)((0,s.zw)(t.pin_fl),1)])),_:2},1024),(0,o.Wm)(j,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(t.phone),1)])),_:2},1024),(0,o.Wm)(j,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(t.work),1)])),_:2},1024),(0,o.Wm)(j,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{flat:"",dense:"",round:"",icon:"description",class:"text-deep-purple"}),(0,o.Wm)(Z,{onClick:e=>y.editForm(t,l),flat:"",dense:"",round:"",icon:"edit",class:"text-primary"},null,8,["onClick"]),(0,o.Wm)(Z,{flat:"",dense:"",round:"",icon:"delete",class:"text-negative"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,null,{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{avatar:(0,o.w5)((()=>[(0,o.Wm)($,{name:"info",color:"red"})])),action:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(Z,{label:e.$t("actions.no"),color:"negative",push:"",glossy:"",size:"sm"},null,8,["label"]),[[N]]),(0,o.wy)((0,o.Wm)(Z,{onClick:e=>y.deleteForm(l),label:e.$t("actions.yes"),color:"positive",push:"",glossy:"",size:"sm"},null,8,["onClick","label"]),[[N]])])),default:(0,o.w5)((()=>[(0,o.Uk)(" "+(0,s.zw)(e.$t("delete_text"))+" ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)):((0,o.wg)(),(0,o.j4)(S,{key:1},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{colspan:"6",class:"text-center"},{default:(0,o.w5)((()=>[r])),_:1})])),_:1}))])])),_:1})):((0,o.wg)(),(0,o.iD)("div",n,u))])),_:1},8,["modelValue","horizontal"]),(0,o.Wm)(O,{modelValue:W.modal,"onUpdate:modelValue":t[6]||(t[6]=e=>W.modal=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{style:{width:"100%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(W.create?e.$t("actions.create"):e.$t("actions.edit")),1)])),_:1}),(0,o.wy)((0,o.Wm)(Z,{flat:"",round:"",dense:"",icon:"close"},null,512),[[N]])])),_:1}),m,(0,o.Wm)(B,{onSubmit:y.save,class:"q-pa-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{modelValue:W.form.f_i_o,"onUpdate:modelValue":t[1]||(t[1]=e=>W.form.f_i_o=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.f_i_o")},null,8,["modelValue","rules","label"]),(0,o._)("div",c,[(0,o._)("div",p,[(0,o.Wm)(L,{modelValue:W.form.passport,"onUpdate:modelValue":t[2]||(t[2]=e=>W.form.passport=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.passport"),mask:"AA #######"},null,8,["modelValue","rules","label"])]),(0,o._)("div",h,[(0,o.Wm)(L,{modelValue:W.form.pin_fl,"onUpdate:modelValue":t[3]||(t[3]=e=>W.form.pin_fl=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.pin_fl"),mask:"##############"},null,8,["modelValue","rules","label"])])]),(0,o._)("div",g,[(0,o._)("div",f,[(0,o.Wm)(L,{modelValue:W.form.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>W.form.phone=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.phone"),mask:"(##) ###-##-##"},null,8,["modelValue","rules","label"])]),(0,o._)("div",w,[(0,o.Wm)(L,{modelValue:W.form.work,"onUpdate:modelValue":t[5]||(t[5]=e=>W.form.work=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.work")},null,8,["modelValue","rules","label"])])]),_,(0,o._)("div",b,[(0,o._)("div",k,[(0,o.wy)((0,o.Wm)(Z,{flat:"",label:e.$t("actions.cancel"),color:"negative",class:"bg-red-opacity","no-caps":""},null,8,["label"]),[[N]])]),(0,o._)("div",v,[(0,o.Wm)(Z,{flat:"",label:e.$t("actions.save"),type:"submit",color:"positive",class:"bg-green-opacity","no-caps":""},null,8,["label"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(D,{visible:W.singleImage,imgs:`${y.rootUrl}/${W.uploadPath}`,onHide:t[7]||(t[7]=e=>W.singleImage=!1)},null,8,["visible","imgs"]),(0,o.Wm)(J,{color:"deep-purple",showing:W.loading},null,8,["showing"])])),_:1})}l(9665),l(6890);var y=l(3784),q=l(9630),Z=l(242);const I={name:"persons",components:{VueEasyLightbox:y.Z},data(){return{splitter:25,loading:!1,list:[],create:!0,index:0,modal:!1,form:{},photoModal:!1,singleImage:!1,uploadPath:"",photos:[],homeId:null,homes:[]}},watch:{homeId:{handler(e){e&&this.getList()}}},computed:{rootUrl(){return"http://e-xid.iivkadr.uz/images/"}},methods:{required(e){return e&&e.length>0||this.$t("fields.required")},requiredBool(e){return e||this.$t("fields.required")},getList(){this.loading=!0;const e=q.Z.list();let t=[];e&&e.length>0&&e.forEach((e=>{this.homeId===e.homeId&&t.push(e)})),this.list=t,this.loading=!1},getHomes(){this.loading=!0,this.homes=Z.Z.list(),this.loading=!1},createForm(){this.create=!0,this.form={},this.modal=!0},editForm(e,t){this.create=!1,this.index=t,this.form=Object.assign({},e),this.modal=!0},deleteForm(e){this.loading=!0,this.list.splice(e,1),q.Z.save(this.list),this.getList(),this.loading=!1,this.$q.notify({message:this.$t("success_deleted"),progress:!0,closeBtn:!0,type:"positive",position:"top-right"})},save(){this.loading=!0,this.form.homeId=this.homeId,this.create?(this.list.unshift(this.form),q.Z.save(this.list),this.getList(),this.modal=!1,this.loading=!1):(this.list[this.index]=Object.assign({},this.form),q.Z.save(this.list),this.getList(),this.modal=!1,this.loading=!1),this.$q.notify({message:this.$t(""+(this.create?"success_created":"success_updated")),progress:!0,closeBtn:!0,type:"positive",position:"top-right"})}},created(){this.getHomes()}};var $=l(1639),x=l(4458),z=l(1663),U=l(1973),V=l(2150),Q=l(7498),S=l(3246),j=l(490),C=l(1233),H=l(2857),T=l(3115),P=l(6933),L=l(3532),B=l(1682),F=l(7220),O=l(2765),D=l(7128),J=l(2074),N=l(8326),R=l(7471),A=l(854),E=l(2146),K=l(9984),M=l.n(K);const Y=(0,$.Z)(I,[["render",W]]),G=Y;M()(I,"components",{QCard:x.Z,QToolbar:z.Z,QToolbarTitle:U.Z,QBtn:V.Z,QSplitter:Q.Z,QList:S.Z,QItem:j.Z,QItemSection:C.Z,QIcon:H.Z,QItemLabel:T.Z,QMarkupTable:P.Z,QTr:L.Z,QTh:B.Z,QTd:F.Z,QPopupProxy:O.Z,QBanner:D.Z,QDialog:J.Z,QForm:N.Z,QInput:R.Z,QInnerLoading:A.Z}),M()(I,"directives",{ClosePopup:E.Z})}}]);