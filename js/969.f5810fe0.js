"use strict";(globalThis["webpackChunktemplate"]=globalThis["webpackChunktemplate"]||[]).push([[969],{242:(e,l,t)=>{t.d(l,{Z:()=>a});var s=t(7335);const o={list(){return s.Z.get("/user/list")},getById(e){return s.Z.get(`/home/get-by-id/${e}`)},deleteHome(e){return s.Z["delete"](`/home/delete/${e}`)},save(e,l){return l?s.Z.post("/home/create",e):s.Z.put("/home/update",e)}},a=o},9630:(e,l,t)=>{t.d(l,{Z:()=>a});var s=t(9053);const o={list(){let e=s.Z.getPersons();return e?JSON.parse(e):[]},getById(){},deleteHome(){},save(e){s.Z.setPersons(JSON.stringify(e))}},a=o},8969:(e,l,t)=>{t.r(l),t.d(l,{default:()=>R});var s=t(9835),o=t(6970);const a=(0,s._)("hr",{class:"q-ma-none"},null,-1),i=(0,s._)("br",null,null,-1),n=(0,s._)("img",{src:"https://img.freepik.com/premium-vector/no-data-empty-data-concept-illustration-vector_610956-1400.jpg",alt:"not_found",style:{"border-radius":"50px",width:"400px"}},null,-1),r={key:1,class:"q-pa-md text-center"},d=(0,s._)("img",{src:"https://img.freepik.com/premium-vector/no-data-empty-data-concept-illustration-vector_610956-1400.jpg",alt:"not_found",style:{"border-radius":"50px",width:"400px"}},null,-1),u=[d],m=(0,s._)("hr",{class:"q-ma-none"},null,-1),c={class:"row"},p={class:"col"},h={class:"col"},f={class:"row"},w={class:"col"},g={class:"col"},_=(0,s._)("hr",null,null,-1),b={class:"row"},k={class:"col text-left"},W={class:"col text-right"};function v(e,l,t,d,v,y){const q=(0,s.up)("q-toolbar-title"),Z=(0,s.up)("q-btn"),$=(0,s.up)("q-toolbar"),x=(0,s.up)("q-icon"),z=(0,s.up)("q-item-section"),U=(0,s.up)("q-item-label"),I=(0,s.up)("q-item"),V=(0,s.up)("q-list"),Q=(0,s.up)("q-th"),j=(0,s.up)("q-tr"),C=(0,s.up)("q-td"),L=(0,s.up)("q-banner"),T=(0,s.up)("q-popup-proxy"),B=(0,s.up)("q-markup-table"),F=(0,s.up)("q-splitter"),H=(0,s.up)("q-input"),P=(0,s.up)("q-form"),S=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),O=(0,s.up)("vue-easy-lightbox"),A=(0,s.up)("q-inner-loading"),E=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(S,{bordered:"",class:"border-radius-10"},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("sidebar.person")),1)])),_:1}),v.homeId?((0,s.wg)(),(0,s.j4)(Z,{key:0,onClick:y.createForm,flat:"",class:"bg-green-opacity",color:"positive",icon:"add",label:e.$t("actions.create")},null,8,["onClick","label"])):(0,s.kq)("",!0)])),_:1}),a,(0,s.Wm)(F,{modelValue:v.splitter,"onUpdate:modelValue":l[0]||(l[0]=e=>v.splitter=e),horizontal:e.$q.screen.xs},{before:(0,s.w5)((()=>[v.homes&&v.homes.length>0?((0,s.wg)(),(0,s.j4)(V,{key:0,separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.homes,((e,l)=>((0,s.wg)(),(0,s.j4)(I,{key:`home-${l}`,onClick:l=>v.homeId=e.name,active:v.homeId&&v.homeId===e.name,"active-class":"bg-gradient-opacity text-white",clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{name:"home"})])),_:1}),(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick","active"])))),128))])),_:1})):((0,s.wg)(),(0,s.j4)(I,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("fields.not_found")),1)])),_:1})])),_:1})])),_:1}))])),after:(0,s.w5)((()=>[v.homeId?((0,s.wg)(),(0,s.j4)(B,{key:0},{default:(0,s.w5)((()=>[(0,s._)("thead",null,[(0,s.Wm)(j,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s.Uk)("â„–")])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("fields.f_i_o")),1)])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("fields.passport")),1)])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("fields.phone")),1)])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("fields.work")),1)])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("actions.title")),1)])),_:1})])),_:1})]),(0,s._)("tbody",null,[v.list&&v.list.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(v.list,((l,t)=>((0,s.wg)(),(0,s.j4)(j,{key:`item-${t}`},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(t+1),1)])),_:2},1024),(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(l.f_i_o),1)])),_:2},1024),(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(l.passport),1),i,(0,s.Uk)((0,o.zw)(l.pin_fl),1)])),_:2},1024),(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(l.phone),1)])),_:2},1024),(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(l.work),1)])),_:2},1024),(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{flat:"",dense:"",round:"",icon:"description",class:"text-deep-purple"}),(0,s.Wm)(Z,{onClick:e=>y.editForm(l,t),flat:"",dense:"",round:"",icon:"edit",class:"text-primary"},null,8,["onClick"]),(0,s.Wm)(Z,{flat:"",dense:"",round:"",icon:"delete",class:"text-negative"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{avatar:(0,s.w5)((()=>[(0,s.Wm)(x,{name:"info",color:"red"})])),action:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(Z,{label:e.$t("actions.no"),color:"negative",push:"",glossy:"",size:"sm"},null,8,["label"]),[[E]]),(0,s.wy)((0,s.Wm)(Z,{onClick:e=>y.deleteForm(t),label:e.$t("actions.yes"),color:"positive",push:"",glossy:"",size:"sm"},null,8,["onClick","label"]),[[E]])])),default:(0,s.w5)((()=>[(0,s.Uk)(" "+(0,o.zw)(e.$t("delete_text"))+" ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)):((0,s.wg)(),(0,s.j4)(j,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{colspan:"6",class:"text-center"},{default:(0,s.w5)((()=>[n])),_:1})])),_:1}))])])),_:1})):((0,s.wg)(),(0,s.iD)("div",r,u))])),_:1},8,["modelValue","horizontal"]),(0,s.Wm)(D,{modelValue:v.modal,"onUpdate:modelValue":l[6]||(l[6]=e=>v.modal=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(v.create?e.$t("actions.create"):e.$t("actions.edit")),1)])),_:1}),(0,s.wy)((0,s.Wm)(Z,{flat:"",round:"",dense:"",icon:"close"},null,512),[[E]])])),_:1}),m,(0,s.Wm)(P,{onSubmit:y.save,class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{modelValue:v.form.f_i_o,"onUpdate:modelValue":l[1]||(l[1]=e=>v.form.f_i_o=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.f_i_o")},null,8,["modelValue","rules","label"]),(0,s._)("div",c,[(0,s._)("div",p,[(0,s.Wm)(H,{modelValue:v.form.passport,"onUpdate:modelValue":l[2]||(l[2]=e=>v.form.passport=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.passport"),mask:"AA #######"},null,8,["modelValue","rules","label"])]),(0,s._)("div",h,[(0,s.Wm)(H,{modelValue:v.form.pin_fl,"onUpdate:modelValue":l[3]||(l[3]=e=>v.form.pin_fl=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.pin_fl"),mask:"##############"},null,8,["modelValue","rules","label"])])]),(0,s._)("div",f,[(0,s._)("div",w,[(0,s.Wm)(H,{modelValue:v.form.phone,"onUpdate:modelValue":l[4]||(l[4]=e=>v.form.phone=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.phone"),mask:"(##) ###-##-##"},null,8,["modelValue","rules","label"])]),(0,s._)("div",g,[(0,s.Wm)(H,{modelValue:v.form.work,"onUpdate:modelValue":l[5]||(l[5]=e=>v.form.work=e),dense:"",outlined:"","lazy-rules":"",rules:[y.required],label:e.$t("fields.work")},null,8,["modelValue","rules","label"])])]),_,(0,s._)("div",b,[(0,s._)("div",k,[(0,s.wy)((0,s.Wm)(Z,{flat:"",label:e.$t("actions.cancel"),color:"negative",class:"bg-red-opacity","no-caps":""},null,8,["label"]),[[E]])]),(0,s._)("div",W,[(0,s.Wm)(Z,{flat:"",label:e.$t("actions.save"),type:"submit",color:"positive",class:"bg-green-opacity","no-caps":""},null,8,["label"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(O,{visible:v.singleImage,imgs:`${y.rootUrl}/${v.uploadPath}`,onHide:l[7]||(l[7]=e=>v.singleImage=!1)},null,8,["visible","imgs"]),(0,s.Wm)(A,{color:"deep-purple",showing:v.loading},null,8,["showing"])])),_:1})}t(9665),t(6890);var y=t(3784),q=t(9630),Z=t(242);const $={name:"persons",components:{VueEasyLightbox:y.Z},data(){return{splitter:25,loading:!1,list:[],create:!0,index:0,modal:!1,form:{},photoModal:!1,singleImage:!1,uploadPath:"",photos:[],homeId:null,homes:[]}},watch:{homeId:{handler(e){e&&this.getList()}}},computed:{rootUrl(){return"http://e-xid.iivkadr.uz/images/"}},methods:{required(e){return e&&e.length>0||this.$t("fields.required")},requiredBool(e){return e||this.$t("fields.required")},getList(){this.loading=!0;const e=q.Z.list();let l=[];e&&e.length>0&&e.forEach((e=>{this.homeId===e.homeId&&l.push(e)})),this.list=l,this.loading=!1},getHomes(){this.loading=!0,this.homes=Z.Z.list(),this.loading=!1},createForm(){this.create=!0,this.form={},this.modal=!0},editForm(e,l){this.create=!1,this.index=l,this.form=Object.assign({},e),this.modal=!0},deleteForm(e){this.loading=!0,this.list.splice(e,1),q.Z.save(this.list),this.getList(),this.loading=!1,this.$q.notify({message:this.$t("success_deleted"),progress:!0,closeBtn:!0,type:"positive",position:"top-right"})},save(){this.loading=!0,this.form.homeId=this.homeId,this.create?(this.list.unshift(this.form),q.Z.save(this.list),this.getList(),this.modal=!1,this.loading=!1):(this.list[this.index]=Object.assign({},this.form),q.Z.save(this.list),this.getList(),this.modal=!1,this.loading=!1),this.$q.notify({message:this.$t(""+(this.create?"success_created":"success_updated")),progress:!0,closeBtn:!0,type:"positive",position:"top-right"})}},created(){this.getHomes()}};var x=t(1639),z=t(4458),U=t(1663),I=t(1973),V=t(2150),Q=t(7498),j=t(3246),C=t(490),L=t(1233),T=t(2857),B=t(3115),F=t(6933),H=t(3532),P=t(1682),S=t(7220),D=t(2765),O=t(7128),A=t(2074),E=t(8326),J=t(7471),K=t(854),M=t(2146),N=t(9984),Y=t.n(N);const G=(0,x.Z)($,[["render",v]]),R=G;Y()($,"components",{QCard:z.Z,QToolbar:U.Z,QToolbarTitle:I.Z,QBtn:V.Z,QSplitter:Q.Z,QList:j.Z,QItem:C.Z,QItemSection:L.Z,QIcon:T.Z,QItemLabel:B.Z,QMarkupTable:F.Z,QTr:H.Z,QTh:P.Z,QTd:S.Z,QPopupProxy:D.Z,QBanner:O.Z,QDialog:A.Z,QForm:E.Z,QInput:J.Z,QInnerLoading:K.Z}),Y()($,"directives",{ClosePopup:M.Z})}}]);